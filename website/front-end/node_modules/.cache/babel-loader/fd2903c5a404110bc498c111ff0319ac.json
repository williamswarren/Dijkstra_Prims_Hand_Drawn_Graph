{"ast":null,"code":"import _classCallCheck from\"/Users/warrenwilliams/Documents/School/UCSC Extension/Quarter 3/graph_monkey_frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/warrenwilliams/Documents/School/UCSC Extension/Quarter 3/graph_monkey_frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/warrenwilliams/Documents/School/UCSC Extension/Quarter 3/graph_monkey_frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/warrenwilliams/Documents/School/UCSC Extension/Quarter 3/graph_monkey_frontend/node_modules/@babel/runtime/helpers/esm/createSuper\";import _taggedTemplateLiteral from\"/Users/warrenwilliams/Documents/School/UCSC Extension/Quarter 3/graph_monkey_frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import React,{Component}from'react';import monkey from'./monkey.png';import styled,{keyframes}from\"styled-components\";import{flip}from'react-animations';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FlipAnimation=keyframes(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\",\"\"])),flip);var FlipDiv=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  animation: infinite 2s \",\";\\n  top: 35%;\\n  left: 40%;\\n  display: flex;\\n  justify-content: center;\\n  position: absolute;\\n\"])),FlipAnimation);var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={selectedFile:null,image1:null,image2:null,image3:null,ajacency_list:null,error:false};_this.onFileChange=function(event){var file=event.target.files[0];_this.setState({selectedFile:file});console.log(event);console.log(_this.state);var data=new FormData();data.append('graph_image',file);axios.post('http://ec2-3-101-117-97.us-west-1.compute.amazonaws.com:3000',data).then(function(response){console.log(\"Response\");console.log(response);if(Object.keys(response.data).length!=4){_this.setState({error:true,selectedFile:null});}else{_this.setState({image1:new Buffer.from(response.data.image1).toString(\"base64\"),image2:new Buffer.from(response.data.image2).toString(\"base64\"),image3:new Buffer.from(response.data.image3).toString(\"base64\"),adjacency_list:new Buffer.from(response.data.adjacency_list).toString()});}},function(error){console.log(error);_this.setState({error:true,selectedFile:null});});};_this.processing=function(){if(_this.state.selectedFile){if(_this.state.image1){return null;}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(FlipDiv,{children:[\" \",/*#__PURE__*/_jsx(\"img\",{className:\"image\",src:monkey}),\" \"]}),/*#__PURE__*/_jsx(\"label\",{style:{top:\"50% !important\",position:\"absolute\",display:\"flex\",margin:\"-150px 0 0 20px\"},children:\" LOADING (THIS WILL TAKE A LITTLE BIT) \"})]});}else{return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"img\",{className:\"image\",src:monkey}),/*#__PURE__*/_jsxs(\"label\",{style:{top:\"50% !important\",position:\"absolute\",display:\"flex\",margin:\"-150px 0 0 300px\"},children:[\" UPLOAD PNG\",/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"file\",onChange:_this.onFileChange})]})]});}};_this.result=function(){if(_this.state.image1&&_this.state.image2&&_this.state.image3){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsx(\"img\",{width:\"300\",height:\"300\",src:'data:image/png;base64,'+_this.state.image1}),/*#__PURE__*/_jsx(\"a\",{download:\"graphviz-image.png\",href:'data:image/png;base64,'+_this.state.image1,children:\" GRAPHVIZ IMAGE \"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsx(\"img\",{width:\"300\",height:\"300\",src:'data:image/png;base64,'+_this.state.image2}),/*#__PURE__*/_jsx(\"a\",{download:\"processed-image.png\",href:'data:image/png;base64,'+_this.state.image2,children:\" PROCESSED IMAGE \"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsx(\"img\",{width:\"300\",height:\"300\",src:'data:image/png;base64,'+_this.state.image3}),/*#__PURE__*/_jsx(\"a\",{download:\"nodes_weights.png\",href:'data:image/png;base64,'+_this.state.image3,children:\" NODES & WEIGHTS \"})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{children:[\"ADJACENCY LIST > \",_this.state.adjacency_list]})})]});}else if(_this.state.error==true){return/*#__PURE__*/_jsx(\"label\",{style:{top:\"50% !important\",position:\"absolute\",display:\"flex\",margin:\"-30px 0 0 -80px\",color:'red',fontFamily:\"arial\",fontWeight:\"bold\",fontSize:\"30px\"},children:\" SORRY SOMETHING WENT WRONG :( PLEASE TRY AGAIN WITH A DIFFERENT IMAGE \"});}};return _this;}_createClass(App,[{key:\"render\",value:function render(){console.log(this.state.selectedFile);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h\",{children:\" GRAPHMONKEY\"}),this.processing(),this.result()]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/warrenwilliams/Documents/School/UCSC Extension/Quarter 3/graph_monkey_frontend/src/App.js"],"names":["React","Component","monkey","styled","keyframes","flip","axios","FlipAnimation","FlipDiv","div","App","state","selectedFile","image1","image2","image3","ajacency_list","error","onFileChange","event","file","target","files","setState","console","log","data","FormData","append","post","then","response","Object","keys","length","Buffer","from","toString","adjacency_list","processing","top","position","display","margin","result","color","fontFamily","fontWeight","fontSize"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport monkey from './monkey.png';\nimport styled, { keyframes } from \"styled-components\";\nimport { flip } from 'react-animations';\nimport axios from 'axios';\n\nconst FlipAnimation = keyframes`${flip}`;\nconst FlipDiv = styled.div`\n  animation: infinite 2s ${FlipAnimation};\n  top: 35%;\n  left: 40%;\n  display: flex;\n  justify-content: center;\n  position: absolute;\n`;\n\n\nclass App extends Component {\n    state = { selectedFile: null,\n\t\t\t\timage1: null,\n\t\t\t\timage2: null,\n\t\t\t\timage3: null,\n\t\t\t\tajacency_list: null,\n\t\t\t\terror: false};\n\n\n\tonFileChange = (event) => {\n\t\tconst file = event.target.files[0]\n\t\tthis.setState({selectedFile: file});\n\t\tconsole.log(event)\n\t\tconsole.log(this.state)\n\t\t\t\n\t\tlet data = new FormData();\n\t\tdata.append('graph_image', file);\n\t\t\n\t\taxios.post('http://ec2-3-101-117-97.us-west-1.compute.amazonaws.com:3000',\n  \t\t\tdata)\n\t\t.then((response) => {\n\t\t\tconsole.log(\"Response\");\n  \t\t\tconsole.log(response);\n\n\t\t\tif (Object.keys(response.data).length != 4){\n\t\t\t\t\tthis.setState({error: true, \n                    selectedFile: null});}\n\t\t\telse{\n\t\t\tthis.setState({image1: new Buffer.from(response.data.image1).toString(\"base64\"),\n\t\t\t\t\t\timage2: new Buffer.from(response.data.image2).toString(\"base64\"),\n\t\t\t\t\t\timage3: new Buffer.from(response.data.image3).toString(\"base64\"),\n\t\t\t\t\t\tadjacency_list: new Buffer.from(response.data.adjacency_list).toString()})\n\t\t}}, (error) => {\n  \t\tconsole.log(error);\n\t\tthis.setState({error: true, \n\t\t\t\t\tselectedFile: null});\n\t\t});\n\n}\t\n\t\n\tprocessing = () => {\n\t\tif (this.state.selectedFile){\n\t\t\tif (this.state.image1){return (null)}\n    \treturn(\n\t\t<div>\n    \t\t<FlipDiv> <img className='image' src={monkey} /> </FlipDiv>\n\t\t\t<label style={{top:\"50% !important\", position: \"absolute\", display:\"flex\", margin: \"-150px 0 0 20px\"}}> LOADING (THIS WILL TAKE A LITTLE BIT) </label>\n\t\t</div>\n    \t);}\n    \telse{\n    \treturn(\n    \t<div>\n        \t<img className='image' src={monkey} />\n        \t<label style={{top:\"50% !important\", position: \"absolute\", display:\"flex\", margin: \"-150px 0 0 300px\"}}> UPLOAD PNG \n            \t<input type=\"file\" name=\"file\" onChange={this.onFileChange} />\n        \t</label>\n    \t</div>\n    \t);}\n}\n\n\n\tresult = () => {\n\t\tif (this.state.image1 && this.state.image2 && this.state.image3){\n\t\t\treturn(\n\t\t\t<div>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className='column'>\n\t\t\t\t\t\t<img width='300' height='300' src={'data:image/png;base64,' + this.state.image1}/>\n\t\t\t\t\t\t<a download=\"graphviz-image.png\" href={'data:image/png;base64,' + this.state.image1} > GRAPHVIZ IMAGE </a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='column'>\n\t\t\t\t\t\t<img width='300' height='300' src={'data:image/png;base64,' + this.state.image2}/>\n\t\t\t\t\t\t<a download=\"processed-image.png\" href={'data:image/png;base64,' + this.state.image2} > PROCESSED IMAGE </a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='column'>\n\t\t\t\t\t\t<img width='300' height='300' src={'data:image/png;base64,' + this.state.image3}/>\n\t\t\t\t\t\t<a download=\"nodes_weights.png\" href={'data:image/png;base64,' + this.state.image3} > NODES & WEIGHTS </a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<p>ADJACENCY LIST > {this.state.adjacency_list}</p>\n\t\t\t\t</div>\n\t\t\t</div>)}\n\t\telse if(this.state.error == true){\n\t\t\treturn(<label style={{top:\"50% !important\", position: \"absolute\", display:\"flex\", margin: \"-30px 0 0 -80px\", color: 'red', fontFamily: \"arial\", fontWeight: \"bold\", fontSize: \"30px\"}}> SORRY SOMETHING WENT WRONG :( PLEASE TRY AGAIN WITH A DIFFERENT IMAGE </label>\n\n)}\n\n}\n\t\n\n    render() {\n\t\tconsole.log(this.state.selectedFile)\n      return (\n\t\t<div>\n        \t<h> GRAPHMONKEY</h>\n\t\t\t{this.processing()}\n\t\t\t{this.result()}\n\t\t</div>\n     );\n   }\n }\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}